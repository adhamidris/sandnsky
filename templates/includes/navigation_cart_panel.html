{% if booking_cart_entries %}
<div class="flex items-start justify-between gap-4">
  <div>
    <p class="text-sm font-semibold text-foreground">Saved tours</p>
    <p class="text-xs text-muted-foreground">Collect and submit them together.</p>
  </div>
  <span class="rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary">
    {{ booking_cart_currency }} {{ booking_cart_total_display }}
  </span>
</div>
<ul class="mt-4 max-h-64 space-y-3 overflow-y-auto pr-1">
  {% for entry in booking_cart_entries %}
  <li class="rounded-xl bg-background/70 p-3 shadow-sm">
    <div class="flex items-start gap-3">
      <div class="flex-1">
        <div class="flex items-start justify-between gap-3">
          <h4 class="text-sm font-semibold text-foreground">{{ entry.trip_title }}</h4>
          <span class="whitespace-nowrap text-xs font-semibold text-primary">
            {{ entry.currency }} {{ entry.grand_total_display }}
          </span>
        </div>
      </div>
      <form method="post" action="{% url 'web:booking-cart-quick-add' entry.trip_slug %}" data-cart-toggle class="shrink-0">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.get_full_path }}" />
        <button type="submit" class="group inline-flex h-6 w-6 items-center justify-center rounded-full border border-border/70 text-border transition hover:border-destructive hover:text-destructive focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-destructive" aria-label="Remove {{ entry.trip_title }} from booking list">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-3.5 w-3.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
          </svg>
        </button>
      </form>
    </div>
    {% if entry.travel_date_display %}
    <p class="mt-1 text-xs uppercase tracking-wide text-muted-foreground">{{ entry.travel_date_display }}</p>
    {% endif %}
    <p class="mt-1 text-xs text-muted-foreground">{{ entry.traveler_label }}</p>
    {% if entry.trip_slug %}
    <a href="{% url 'web:trip-detail' entry.trip_slug %}" class="mt-2 inline-flex items-center text-xs font-semibold text-primary hover:text-primary/80">
      View trip
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="ml-1 h-3 w-3">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8 7h8m0 0v8m0-8L8 15" />
      </svg>
    </a>
    {% endif %}
  </li>
  {% endfor %}
</ul>
<div class="mt-4 flex items-center justify-between text-xs">
  <span class="font-medium text-muted-foreground">Total itinerary value</span>
  <span class="font-semibold text-foreground">{{ booking_cart_currency }} {{ booking_cart_total_display }}</span>
</div>
<div class="mt-3 space-y-2">
  <a href="{% url 'web:booking-cart-checkout' %}" class="inline-flex w-full items-center justify-center rounded-md bg-primary px-3 py-2 text-xs font-semibold text-primary-foreground transition-colors hover:bg-primary/90">
    Review &amp; confirm
  </a>
  <div class="flex gap-2">
    <a href="/trips" class="inline-flex flex-1 items-center justify-center rounded-md bg-primary/10 px-3 py-2 text-xs font-semibold text-primary transition-colors hover:bg-primary/20">
      Add more tours
    </a>
    <a href="/contact" class="inline-flex flex-1 items-center justify-center rounded-md bg-muted px-3 py-2 text-xs font-semibold text-muted-foreground transition-colors hover:bg-muted/70">
      Need help?
    </a>
  </div>
</div>
{% else %}
<div class="flex flex-col items-center gap-3 py-6 text-center">
  <span class="flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-6 w-6">
      <path stroke-linecap="round" stroke-linejoin="round" d="M4 7h3.3a1 1 0 0 1 .95.7l.7 2.5m0 0L9.6 17H18a1 1 0 0 0 .97-.75L20.5 10.5H8.9m-.95-2.3L7.5 5.5a1 1 0 0 1 .98-.75h1.27a1 1 0 0 1 .93.64l.44 1.11" />
      <path stroke-linecap="round" stroke-linejoin="round" d="M14.5 5.5c.75-1.2 2.12-2 3.7-2 1.58 0 2.95.8 3.7 2 .38.6.1 1.4-.6 1.6l-1.8.5c-.5.1-.8.6-.7 1.1l.1.4c.2.7-.5 1.3-1.2 1l-1.5-.6c-.4-.2-.9 0-1.1.4l-.5 1.1c-.3.6-1.2.6-1.4-.1l-.5-1.6c-.1-.5-.7-.8-1.1-.6l-1.5.6c-.6.2-1.2-.4-1-.9l.6-2.3" />
    </svg>
  </span>
  <p class="text-sm font-semibold text-foreground">Your booking list is waiting</p>
  <p class="max-w-[14rem] text-xs text-muted-foreground">Collect the tours you love and send them to our team when you're ready.</p>
  <a href="/trips" class="inline-flex items-center justify-center rounded-md bg-primary px-3 py-2 text-xs font-semibold text-primary-foreground transition-colors hover:bg-primary/90">
    Browse tours
  </a>
</div>
{% endif %}
