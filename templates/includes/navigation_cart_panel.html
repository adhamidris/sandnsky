{% if booking_cart_entries %}
<div class="flex items-start justify-between gap-4">
  <div class="space-y-1">
    <p class="text-sm font-semibold text-foreground">Your curated list</p>
    <p class="text-xs text-muted-foreground">One note to share with our travel experts.</p>
  </div>
  <span class="rounded-full border border-border/70 px-3 py-1 text-xs font-semibold text-foreground">
    {{ booking_cart_currency }} {{ booking_cart_total_display }}
  </span>
</div>
<ul class="mt-4 max-h-64 space-y-3 overflow-y-auto pr-1">
  {% for entry in booking_cart_entries %}
  <li class="rounded-xl border border-border/60 bg-background/80 p-3 shadow-sm transition hover:border-primary/30 hover:bg-background">
    <div class="flex items-start gap-3">
      <div class="flex-1">
        <div class="flex items-start justify-between gap-3">
          <h4 class="text-sm font-semibold text-foreground">{{ entry.trip_title }}</h4>
          <span class="whitespace-nowrap text-xs font-semibold text-foreground">
            {{ entry.currency }} {{ entry.grand_total_display }}
          </span>
        </div>
      </div>
      <form method="post" action="{% url 'web:booking-cart-quick-add' entry.trip_slug %}" data-cart-toggle class="shrink-0">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.get_full_path }}" />
        <button type="submit" class="group inline-flex h-6 w-6 items-center justify-center rounded-full border border-border/80 text-border transition hover:border-destructive hover:text-destructive focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary" aria-label="Remove {{ entry.trip_title }} from booking list">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-3.5 w-3.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
          </svg>
        </button>
      </form>
    </div>
    {% if entry.travel_date_display %}
    <p class="mt-1 text-[11px] uppercase tracking-[0.2em] text-muted-foreground">{{ entry.travel_date_display }}</p>
    {% endif %}
    <p class="mt-1 text-xs text-muted-foreground">{{ entry.traveler_label }}</p>
    {% if entry.trip_slug %}
    <a href="{% url 'web:trip-detail' entry.trip_slug %}" class="mt-2 inline-flex items-center gap-1 text-xs font-semibold text-primary hover:text-primary/80">
      View trip
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-3 w-3">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8 7h8m0 0v8m0-8L8 15" />
      </svg>
    </a>
    {% endif %}
  </li>
  {% endfor %}
</ul>
<div class="mt-4 flex items-center justify-between text-xs">
  <span class="font-medium text-muted-foreground">Itinerary estimate</span>
  <span class="font-semibold text-foreground">{{ booking_cart_currency }} {{ booking_cart_total_display }}</span>
</div>
<div class="mt-3 space-y-2">
  <a href="{% url 'web:booking-cart-checkout' %}" class="inline-flex w-full items-center justify-center gap-2 rounded-lg bg-primary px-3 py-2 text-xs font-semibold text-primary-foreground transition-colors hover:bg-primary/90">
    <span>Review &amp; submit</span>
  </a>
  <div class="flex gap-2 text-xs font-semibold">
    <a href="/trips" class="inline-flex flex-1 items-center justify-center rounded-lg border border-border/70 px-3 py-2 text-foreground transition hover:border-primary/40 hover:text-primary">
      Add tours
    </a>
    <a href="/contact" class="inline-flex flex-1 items-center justify-center rounded-lg border border-border/60 px-3 py-2 text-muted-foreground transition hover:border-primary/30 hover:text-primary">
      Ask an expert
    </a>
  </div>
</div>
{% else %}
<div class="flex flex-col items-center gap-3 py-6 text-center">
  <span class="flex h-12 w-12 items-center justify-center rounded-full border border-border/70 bg-background text-muted-foreground">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" class="h-5 w-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M6 7.5h12l-1.2 6A1.75 1.75 0 0 1 15.1 15H9.4L8.7 18" />
      <path stroke-linecap="round" stroke-linejoin="round" d="M4 4.5h2.2a1 1 0 0 1 .98.8l.25 1" />
    </svg>
  </span>
  <p class="text-sm font-semibold text-foreground">Save trips as you explore</p>
  <p class="max-w-[14rem] text-xs text-muted-foreground">Shortlist favourites anywhere on the site and return here when itâ€™s time to plan.</p>
  <a href="/trips" class="inline-flex items-center justify-center gap-2 rounded-full border border-border/70 px-3 py-2 text-xs font-semibold text-foreground transition hover:border-primary/40 hover:text-primary">
    Browse experiences
  </a>
</div>
{% endif %}
