<!-- navigation_cart_panel.html -->
{% if booking_cart_entries %}
  <div class="navcart-header">
    <div>
      <h4 class="text-sm font-semibold">Your curated list</h4>
      <p style="color:rgba(255,255,255,.7); font-size:12px; margin:2px 0 0">One note to share with our travel experts.</p>
    </div>
    <span class="navcart-total">{{ booking_cart_currency }} {{ booking_cart_total_display }}</span>
  </div>

  <ul class="navcart-list">
    {% for entry in booking_cart_entries %}
      <li class="navcart-entry">
        <div style="display:flex; gap:10px; justify-content:space-between; align-items:flex-start">
          <div style="flex:1">
            <div style="display:flex; gap:8px; justify-content:space-between; align-items:flex-start">
              <h5>{{ entry.trip_title }}</h5>
              <span class="price">{{ entry.currency }} {{ entry.grand_total_display }}</span>
            </div>
            {% if entry.travel_date_display %}
              <p class="meta" style="text-transform:uppercase; letter-spacing:.18em; font-size:11px">{{ entry.travel_date_display }}</p>
            {% endif %}
            <p class="meta">{{ entry.traveler_label }}</p>
            {% if entry.trip_slug %}
              <a href="{% url 'web:trip-detail' entry.trip_slug %}"
                 style="display:inline-flex; gap:6px; align-items:center; font-weight:700; font-size:12px; color:var(--accent); text-decoration:none">
                View trip
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                     fill="none" stroke="currentColor" stroke-width="1.5"
                     width="12" height="12"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7h8m0 0v8m0-8L8 15"/></svg>
              </a>
            {% endif %}
          </div>

          <form method="post" action="{% url 'web:booking-cart-quick-add' entry.trip_slug %}" data-cart-toggle>
            {% csrf_token %}
            <input type="hidden" name="next" value="{{ request.get_full_path }}" />
            <button type="submit" class="navcart-remove"
                    aria-label="Remove {{ entry.trip_title }} from booking list">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                   fill="none" stroke="currentColor" stroke-width="1.5"
                   width="14" height="14"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>
            </button>
          </form>
        </div>
      </li>
    {% endfor %}
  </ul>

  <div style="display:flex; justify-content:space-between; align-items:center; color:rgba(255,255,255,.75); font-size:12px; margin-top:10px">
    <span>Itinerary estimate</span>
    <span style="font-weight:700; color:#fff">{{ booking_cart_currency }} {{ booking_cart_total_display }}</span>
  </div>

  <div class="navcart-actions">
    <a href="{% url 'web:booking-cart-checkout' %}" class="navcart-primary" style="text-decoration:none">Review &amp; submit</a>
    <div class="navcart-secondary">
      <a href="/trips">Add tours</a>
      <a href="{{ booking_cart_help_link }}" target="_blank" rel="noopener">Chat on WhatsApp</a>
    </div>
  </div>
{% else %}
  <div style="text-align:center; padding:18px 0; display:grid; gap:10px; justify-items:center">
    <span style="display:grid; place-items:center; width:48px; height:48px; border-radius:999px; border:1px solid var(--border); color:rgba(255,255,255,.65)">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
           fill="none" stroke="currentColor" stroke-width="1.4"
           width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" d="M6 7.5h12l-1.2 6A1.75 1.75 0 0 1 15.1 15H9.4L8.7 18"/><path stroke-linecap="round" stroke-linejoin="round" d="M4 4.5h2.2a1 1 0 0 1 .98.8l.25 1"/></svg>
    </span>
    <p style="margin:0; font-weight:700">Save trips as you explore</p>
    <p style="margin:0; max-width:14rem; color:rgba(255,255,255,.7); font-size:12px">Shortlist favourites anywhere on the site and return here when itâ€™s time to plan.</p>
    <a href="/trips" class="navcart-primary" style="background:transparent; color:#fff; border:1px solid var(--border); text-decoration:none">Browse experiences</a>
  </div>
{% endif %}
