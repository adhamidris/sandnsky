{% load static %}
<section id="hero" class="hero relative min-h-[calc(100vh-4rem)]" aria-label="Promo">
  <!-- Media layer -->
  <div class="hero-media" aria-hidden="true">
    {% if hero.image %}
      <img
        src="{% if hero.image_is_media %}{{ hero.image }}{% else %}{% static hero.image %}{% endif %}"
        alt=""
        class="w-full h-full object-cover"
        loading="eager"
        decoding="async"
      />
    {% endif %}

    {% if hero.video %}
      <video
        class="absolute inset-0 hidden h-full w-full object-cover md:block"
        autoplay
        loop
        muted
        playsinline
        preload="auto"
        {% if hero.image %}poster="{% if hero.image_is_media %}{{ hero.image }}{% else %}{% static hero.image %}{% endif %}"{% endif %}
        data-hero-video
        aria-hidden="true"
      >
        <source src="{% if hero.video_is_media %}{{ hero.video }}{% else %}{% static hero.video %}{% endif %}" type="{{ hero.video_type }}" />
        Your browser does not support the background video.
      </video>
    {% endif %}
  </div>

  <!-- Overlays (theme overlay + your extra depth) -->
  <div class="hero-overlay" aria-hidden="true"></div>
  <div class="absolute inset-0 bg-gradient-to-b from-rosesand via-clay/80 to-[hsl(var(--background))]" aria-hidden="true"></div>
  <div class="absolute inset-0 bg-gradient-to-t from-black/30 via-black/10 to-transparent mix-blend-multiply" aria-hidden="true"></div>

  <!-- Content -->
  <div class="hero-content relative z-10">
    <div class="container mx-auto px-4 text-center">
      <h1 class="font-serif text-4xl font-bold text-white drop-shadow-lg sm:text-6xl lg:text-7xl">
        {{ hero.title }}
      </h1>
      <p class="subcopy mt-6 max-w-2xl mx-auto text-white/90 sm:text-xl">
        {{ hero.subtitle }}
      </p>

      <div class="actions mt-8 flex items-center justify-center gap-3">
        {# Primary CTA (required) #}
        <a href="{{ hero.primary_cta.href }}" class="btn btn-primary">
          {{ hero.primary_cta.label }}
        </a>

        {# Secondary CTA (optional) #}
        {% if hero.secondary_cta and hero.secondary_cta.label and hero.secondary_cta.href %}
          <a href="{{ hero.secondary_cta.href }}" class="btn ghost">
            {{ hero.secondary_cta.label }}
          </a>
        {% endif %}
      </div>
    </div>

    <aside class="mini-frame" aria-label="Featured image">
      <img
        src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
        alt=""
        loading="lazy"
        decoding="async"
      />
    </aside>
  </div>
</section>
