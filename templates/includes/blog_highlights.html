{% load static %}
<section id="journal" class="blogs" aria-labelledby="blogs-title">
  <div class="wrap">
    <h2 id="blogs-title">{{ blog_section.title }}</h2>
    <p class="sub">{{ blog_section.subtitle }}</p>

    {% if blog_section.items %}
      <div class="blog-grid">
        {% for post in blog_section.items %}
          <article class="blog-card">
            {% if post.image_url %}
              <div class="blog-media">
                <img
                  src="{{ post.image_url }}"
                  alt="{{ post.title }}"
                  loading="lazy"
                  decoding="async"
                />
              </div>
            {% endif %}

            <div class="blog-body">
              {% if post.category %}
                <span class="blog-eyebrow">{{ post.category }}</span>
              {% endif %}

              <h3 class="blog-title">{{ post.title }}</h3>

              {% if post.subtitle %}
                <p class="blog-subtitle">{{ post.subtitle }}</p>
              {% endif %}

              {% if post.excerpt %}
                <p class="blog-excerpt">{{ post.excerpt }}</p>
              {% endif %}

              {% if post.read_time or post.published_at %}
                <div class="blog-meta">
                  {% if post.read_time %}<span>{{ post.read_time }}</span>{% endif %}
                  {% if post.read_time and post.published_at %} • {% endif %}
                  {% if post.published_at %}<span>{{ post.published_at|date:"M Y" }}</span>{% endif %}
                </div>
              {% endif %}

              <div class="blog-actions">
                <a class="blog-link" href="{{ post.url|default:'#' }}">
                  {{ post.cta_label|default:"Read Article" }} &rsaquo;
                </a>
              </div>
            </div>
          </article>
        {% endfor %}
      </div>

      <div class="center-cta">
        <a class="btn outline" href="{% url 'web:blog-list' %}">View All Blogs</a>
      </div>
    {% else %}
      <div class="center-cta" style="margin-top:28px;">
        <p class="sub">Our journal is growing — fresh perspectives from the desert will be arriving shortly.</p>
      </div>
    {% endif %}
  </div>
</section>
