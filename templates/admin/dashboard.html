{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
<div class="admin-dashboard">
    {% if dashboard_metrics %}
    <section class="dash-metrics" aria-label="Key booking and reward metrics">
        {% for metric in dashboard_metrics %}
            <a class="metric-card" href="{{ metric.url }}">
                <span class="metric-label">{{ metric.label }}</span>
                <span class="metric-value">{{ metric.value }}</span>
                <span class="metric-desc">{{ metric.description }}</span>
            </a>
        {% endfor %}
    </section>
    {% endif %}

    {% if dashboard_quick_links %}
    <section class="dash-section">
        <header class="dash-section-header">
            <div>
                <h3>Quick links</h3>
                <p>Jump straight to the work you do most.</p>
            </div>
        </header>
        <div class="quick-grid">
            {% for link in dashboard_quick_links %}
                <a class="quick-card" href="{{ link.url }}">
                    <span class="quick-card-label">{{ link.label }}</span>
                    <span class="quick-card-desc">{{ link.description }}</span>
                </a>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if dashboard_most_used %}
    <section class="dash-section">
        <header class="dash-section-header">
            <div>
                <h3>Most-used areas</h3>
                <p>One click to the primary modules.</p>
            </div>
        </header>
        <div class="most-grid">
            {% for item in dashboard_most_used %}
                <a class="most-card" href="{{ item.url }}">
                    <span class="most-card-label">{{ item.label }}</span>
                    <span class="most-card-desc">{{ item.description }}</span>
                </a>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <section class="dash-section">
        <details class="dash-full-list" id="full-app-list">
            <summary>Full app list</summary>
            {% if app_list %}
                <div class="app-list">
                    {% for app in app_list %}
                        <article class="app-module">
                            <header>
                                {% if app.app_url %}
                                    <h4><a href="{{ app.app_url }}">{{ app.name }}</a></h4>
                                {% else %}
                                    <h4>{{ app.name }}</h4>
                                {% endif %}
                            </header>
                            {% if app.models %}
                                <ul>
                                    {% for model in app.models %}
                                        <li>
                                            <div class="model-row">
                                                <div>
                                                    {% if model.admin_url %}
                                                        <a href="{{ model.admin_url }}">{{ model.name }}</a>
                                                    {% else %}
                                                        {{ model.name }}
                                                    {% endif %}
                                                </div>
                                                <div class="model-actions">
                                                    {% if model.add_url %}
                                                        <a class="model-add-link" href="{{ model.add_url }}">Add</a>
                                                    {% endif %}
                                                    {% if model.view_only %}
                                                        <span class="model-view-only">View only</span>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        </article>
                    {% endfor %}
                </div>
            {% else %}
                <p class="empty-apps">You donâ€™t have access to any other applications.</p>
            {% endif %}
        </details>
    </section>
</div>
{% endblock %}
